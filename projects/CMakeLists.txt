project(Venus)

FILE(GLOB children ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR}/*)
SET(dirlist "")
FOREACH(child ${children})
    IF(IS_DIRECTORY ${child} AND NOT ${child} STREQUAL ${CMAKE_CURRENT_SOURCE_DIR})
        LIST(APPEND dirlist ${child})
        IF(NOT EXISTS ${child}/CMakeLists.txt)
            file(COPY ${CMAKE_SOURCE_DIR}/include/default_resources/CMakeLists.txt DESTINATION ${child})
        endif()
        IF(NOT EXISTS ${child}/main.cpp)
            file(COPY ${CMAKE_SOURCE_DIR}/include/default_resources/main.cpp DESTINATION ${child})
        endif()
    ENDIF()
ENDFOREACH()

get_filename_component(PARENT_DIR ${CMAKE_BINARY_DIR} DIRECTORY)
get_filename_component(PARENT_DIR_NAME ${PARENT_DIR} NAME)
ADD_SUBDIRECTORY(${PARENT_DIR_NAME})